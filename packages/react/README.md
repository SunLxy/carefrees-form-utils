# Reactä¸­ä½¿ç”¨

## å®‰è£…

```bash
npm install @carefrees/form-utils-react # yarn add @carefrees/form-utils-react # pnpm add @carefrees/form-utils-react
```

## ä½¿ç”¨

### åŸºæœ¬ä½¿ç”¨

```ts
import { Form, FormItem } from '@carefrees/form-utils-react';
import React ,{ useState } from 'react';

const Demo = ()=>{
  const [formData]= useState({ name: 'å¼ ä¸‰', age: 18 })
  const form = useForm();

  const onSubmit = async () =>{
      try {
      console.log(form);
      const result = await form.validate();
      console.log(result);
    } catch (error) {
      console.log(error);
    }
  }

  return (<Form formData={formData} form={form} >
        <FormItem rules={[{ required: true, message: 'å¿…å¡«' }]} name="name" label="name">
          <input style={{ width: '100%' }} placeholder="è¯·è¾“å…¥" />
        </FormItem>
        <FormItem name="age" label="age">
          <input style={{ width: '100%' }} placeholder="è¯·è¾“å…¥" />
        </FormItem>  
        <button type="button" onClick={onSubmit}>
           éªŒğŸ˜ğŸ˜è¯
        </button>
  </Form>)
}

```

### æ§åˆ¶éšè—

### è¡¨å•å­—æ®µç›‘å¬

### listè¡¨å•é¡¹

### è¡¨å•é¡¹ä¹‹é—´è”åŠ¨æ ¡éªŒ

### è¡¨å•è¾“å…¥æ¡†å±æ€§è”åŠ¨è®¾ç½®

### å¸ƒå±€ç»„ä»¶

## ç±»å‹

### Formè¡¨å•

```ts
import React from 'react';
import { FormInstanceBase, ValidateErrorEntity } from '@carefrees/form-utils';
import { FormLayoutProps } from '@carefrees/form-utils-react/esm/layout';

export interface FormProps<T = any> extends FormLayoutProps {
    children?: React.ReactNode;
    form?: FormInstanceBase;
    style?: React.CSSProperties;
    className?: string;
    layoutClassName?: string;
    layoutStyle?: React.CSSProperties;
    /**è¡¨å•æ•°æ®*/
    formData?: any;
    /**å€¼æ›´æ–°è§¦å‘*/
    onValuesChange?: (changedValues: Partial<T>, values: T) => void;
    /**æäº¤ä¿å­˜ éªŒè¯æˆåŠŸ*/
    onFinish?: (values: T) => void;
    /**æäº¤ä¿å­˜ éªŒè¯å¤±è´¥*/
    onFinishFailed?: (errorInfo: ValidateErrorEntity<T>) => void;
    /**éšè—è¡¨å•é¡¹åˆå§‹å€¼*/
    hideData?: Record<string, boolean>;
    /**è¡¨å•åç§°*/
    name?: string;
    /**éšè—è§„åˆ™æ ¡éªŒ*/
    hideRuleData?: Record<string, boolean>;
    /**è‡ªåŠ¨é‡ç½®æ›´æ–°formDataæ•°æ®*/
    isAutoUpdatedFormData?: boolean;
}
export declare function Form<T = any>(props: FormProps<T>): import("react/jsx-runtime").JSX.Element;

```

### FormItemè¡¨å•é¡¹

```ts
import { LayoutFormItemProps } from '@carefrees/form-utils-react/esm/layout/layout.formItem';
import { FormItemAttrOptions } from '@carefrees/form-utils-react/esm/hooks/attr/attr.FormItem';
import React from 'react';
export interface FormItemProps extends FormItemAttrOptions, LayoutFormItemProps {
    /**ä¸è¿›è¡Œæ ·å¼æ¸²æŸ“*/
    noStyle?: boolean;
}
/**è¡¨å•é¡¹*/
export declare const FormItem: React.MemoExoticComponent<(props: Partial<FormItemProps>) => import("react/jsx-runtime").JSX.Element>;
/**éšè—è¡¨å•é¡¹*/
export declare const FormHideItem: React.MemoExoticComponent<(props: FormItemProps) => import("react/jsx-runtime").JSX.Element>;

```

### FormListè¡¨å•List

```ts
import { RuleInstanceBase, FormItemInstanceBase, FormListInstanceBase } from '@carefrees/form-utils';
import React from 'react';
import { RegisterFormListOptions } from '@carefrees/form-utils-react-hooks';
export interface FormListChildrenProps {
    /**æ•°æ®é›†åˆ*/
    fields: {
        name: number;
        key: number;
    }[];
    /**æ·»åŠ */
    onAdd: (initialValue?: Object) => void;
    /**åˆ é™¤*/
    onDelete: (index: number | number[]) => void;
    /**ç§»åŠ¨*/
    onMove: (from: number, to: number) => void;
}
export interface FormListProps extends RegisterFormListOptions {
    children: (options: FormListChildrenProps, instances: {
        ruleInstance: RuleInstanceBase;
        formItemInstance: FormItemInstanceBase;
        formListInstance: FormListInstanceBase;
    }) => React.ReactNode;
}
/**form list ç»„ä»¶*/
export declare const FormList: React.MemoExoticComponent<(props: FormListProps) => import("react/jsx-runtime").JSX.Element>;
/**éšè— form list item ç»„ä»¶*/
export declare const FormHideList: React.MemoExoticComponent<(props: FormListProps) => import("react/jsx-runtime").JSX.Element>;

```

### å¸ƒå±€ç»„ä»¶ ç±»å‹

```ts
import React from 'react';
import { AttrsOptions } from '@carefrees/form-utils-react-hooks';
import { FormLayoutBodyProps } from '@carefrees/form-utils-react/esm/layout/layout.body';
export interface FormLayoutProps extends AttrsOptions, FormLayoutBodyProps {
    /**æ ‡é¢˜*/
    title?: React.ReactNode;
    /**é¢å¤–å†…å®¹*/
    extra?: React.ReactNode;
    /**å†…å®¹*/
    children?: React.ReactNode;
    /**æ˜¯å¦å æ®æ•´è¡Œ*/
    isAllColSpan?: boolean;
    className?: string;
    /**å¤´éƒ¨ClassName*/
    headerClassName?: string;
    /**å†…å®¹ClassName*/
    bodyClassName?: string;
    style?: React.CSSProperties;
    /**å¤´éƒ¨æ ·å¼*/
    headerStyle?: React.CSSProperties;
    /**å†…å®¹æ ·å¼*/
    bodyStyle?: React.CSSProperties;
    /**æ˜¯å¦æ·»åŠ è¾¹æ¡†*/
    bordered?: boolean;
}
/**å¸ƒå±€ç»„ä»¶*/
export declare const FormLayout: React.MemoExoticComponent<(props: FormLayoutProps) => import("react/jsx-runtime").JSX.Element>;
export interface FormLayoutRowsProps extends React.DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement> {
}
/**å¸ƒå±€ç»„ä»¶ å æ®ä¸€æ•´è¡Œ*/
export declare const FormLayoutRows: React.ForwardRefExoticComponent<Omit<FormLayoutRowsProps, "ref"> & React.RefAttributes<HTMLDivElement>>;

```

### å¸ƒå±€ç»„ä»¶å†…å®¹ ç±»å‹

```ts
import React from 'react';
import { SizeInfo } from '@carefrees/form-utils-react/esm/hooks/useResizeObserver';
export interface FormLayoutBodyProps {
    className?: string;
    style?: React.CSSProperties;
    /**åˆ—æ•°æ®*/
    colCount?: number;
    /**
     * @description gap å±æ€§æ˜¯ç”¨æ¥è®¾ç½®ç½‘æ ¼è¡Œä¸åˆ—ä¹‹é—´çš„é—´éš™ï¼Œè¯¥å±æ€§æ˜¯row-gap and column-gapçš„ç®€å†™å½¢å¼ã€‚
     */
    gap?: string | number;
    /**
     * è·å–å¤šå°‘è¡Œ
     */
    onGapRow?: (row: number, col: number, target: HTMLDivElement) => void;
    /**å†…å®¹å¤§å°å˜åŒ–*/
    onResize?: (size: SizeInfo, target: HTMLDivElement) => void;
    /**å†…å®¹*/
    children?: React.ReactNode;
}
/**å¸ƒå±€ç»„ä»¶-å†…å®¹åŒºåŸŸ*/
export declare const FormLayoutBody: React.MemoExoticComponent<(props: FormLayoutBodyProps) => import("react/jsx-runtime").JSX.Element>;
```

### è¡¨å•é¡¹å¸ƒå±€ç»„ä»¶ç±»å‹

```ts
import React from 'react';
export interface LayoutFormItemProps {
    /**è§„åˆ™æ ¡éªŒå¤±è´¥é”™è¯¯æç¤ºä½ç½®*/
    errorLayout?: 'left-bottom' | 'right-bottom' | 'top-right' | 'top-left';
    /**å¿…å¡«æ ·å¼*/
    required?: boolean;
    /**labelæ˜¾ç¤ºæ¨¡å¼*/
    labelMode?: 'left' | 'top' | 'between' | 'hide';
    /**å†…å®¹*/
    children?: React.ReactNode;
    /**åªè¿›è¡Œè§„åˆ™æ ·å¼*/
    onlyRuleStyle?: boolean;
    label?: React.ReactNode;
    /**åº•éƒ¨æç¤ºå†…å®¹*/
    helpText?: React.ReactNode;
    /**é¢å¤–å†…å®¹*/
    extra?: React.ReactNode;
    /**æ˜¯å¦æ˜¾ç¤ºlabelåçš„å†’å·*/
    showColon?: boolean;
    /**
     * è¡¨å•é¡¹å æ®åˆ—æ•°
     * @default 1
     */
    colSpan?: number;
    /**
     * è¡¨å•é¡¹å æ®è¡Œæ•°
     * @default 1
     */
    rowSpan?: number;
    htmlFor?: string;
    /**è§„åˆ™éªŒè¯ç»“æœ*/
    validateResult?: {
        tip: string | (string | undefined)[];
        isInvalid: boolean;
    };
    style?: React.CSSProperties;
    className?: string;
    labelStyle?: React.CSSProperties;
    labelClassName?: string;
}
/**å¸ƒå±€ç»„ä»¶ è¡¨å•é¡¹*/
export declare const LayoutFormItem: React.MemoExoticComponent<(props: LayoutFormItemProps) => import("react/jsx-runtime").JSX.Element>;
```
